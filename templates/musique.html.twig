{% extends 'base_template.html.twig' %}

{% block header %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
{% endblock %}

{% block content %}

    <!-- Playlists -->
    <section class="text-center">
        <h2 class="fw-bold mb-4">Playlists</h2>

        {% set premieresPlaylists = playlists|slice(0, 3) %}
        <div class="d-flex justify-content-center flex-wrap gap-4 mb-4">

            <!-- Chansons likées -->
            <a href="/?controller=utilisateur&method=afficherMesLikes" class="text-decoration-none">
                <div class="p-3 rounded-4 text-center" style="background-color:#E58E82; width:180px;">
                    <div class="rounded-4 bg-light mx-auto mb-2 d-flex justify-content-center align-items-center"
                        style="width:150px; height:150px;">
                        <i class="bi bi-heart-fill text-danger" style="font-size:3rem;"></i>
                    </div>
                    <p class="mb-0" style="color:#FFFFFF;">Chansons likées</p>
                </div>
            </a>

            <!-- 3 premières playlists -->
            {% for playlist in premieresPlaylists %}
                <a href="/?controller=playlist&method=afficher&idPlaylist={{ playlist.getIdPlaylist() }}" class="text-decoration-none">
                    <div class="p-3 rounded-4 text-center" style="background-color:#E58E82; width:180px;">
                        <div class="rounded-4 bg-light mx-auto mb-2 d-flex justify-content-center align-items-center"
                            style="width:150px; height:150px;">
                            <i class="bi bi-music-note" style="font-size:3rem;"></i>
                        </div>
                        <p class="mb-0" style="color:#FFFFFF;">{{ playlist.getNomPlaylist() }}</p>
                    </div>
                </a>
            {% endfor %}
        </div>

        <!-- Playlists restantes -->
        {% set restantes = playlists|slice(3) %}
        {% for ligne in restantes|batch(4) %}
            <div class="d-flex justify-content-center flex-wrap gap-4 mb-4">
                {% for playlist in ligne %}
                    <a href="/?controller=playlist&method=afficher&idPlaylist={{ playlist.getIdPlaylist() }}" class="text-decoration-none">
                        <div class="p-3 rounded-4 text-center" style="background-color:#E58E82; width:180px;">
                            <div class="rounded-4 bg-light mx-auto mb-2 d-flex justify-content-center align-items-center"
                                style="width:150px; height:150px;">
                                <i class="bi bi-music-note" style="font-size:3rem;"></i>
                            </div>
                            <p class="mb-0" style="color:#FFFFFF;">{{ playlist.getNomPlaylist() }}</p>
                        </div>
                    </a>
                {% endfor %}
            </div>
        {% endfor %}
    </section>
{% endblock %}
