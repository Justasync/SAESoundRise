{% extends 'base_template.html.twig' %}

{#
 # @file forgot_password.html.twig
 # @brief Template pour la page de demande de réinitialisation de mot de passe.
 # 
 # Cette page affiche un formulaire permettant à l'utilisateur de saisir
 # son adresse email pour recevoir un lien de réinitialisation de mot de passe.
 # Le lien envoyé par email est valide pendant 1 heure.
 # 
 # @extends base_template.html.twig
 #}

{% block content %}
	<div class="container py-5">
		<div class="row justify-content-center">
			<div class="col-md-6 col-lg-5">
				<div class="card shadow" id="forgotPasswordCard">
					<div class="card-body p-4">
						<div class="text-center mb-4">
							<div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 64px; height: 64px;" id="iconContainer">
								<i class="bi bi-key fs-3"></i>
							</div>
						</div>

						<h1 class="h4 text-center mb-2" id="pageTitle">Mot de passe oublié ?</h1>
						<p class="text-muted text-center mb-4" id="pageSubtitle">
							Pas de panique ! Entrez votre adresse email ci-dessous et nous vous enverrons un lien pour réinitialiser votre mot de passe.
						</p>

						<div class="alert alert-danger d-none" role="alert" id="errorAlert"></div>
						<div class="alert alert-success d-none" role="alert" id="successAlert"></div>

						<form id="forgotPasswordForm">
							<div class="mb-4">
								<label for="email" class="form-label">Adresse email</label>
								<input type="email" class="form-control" id="email" name="email" placeholder="votre@email.com" required autocomplete="email" title="Entrez l'adresse email associée à votre compte Paaxio">
							</div>

							<button type="submit" class="btn btn-primary w-100" id="submitBtn">
								<span id="btnText">Envoyer le lien de réinitialisation</span>
								<span id="btnSpinner" class="d-none">
									<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
									Envoi en cours...
								</span>
							</button>
						</form>

						<div class="text-center mt-3">
							<a href="/?controller=home&method=afficher" class="text-decoration-none">
								<i class="bi bi-arrow-left me-1"></i>
								Retour à l'accueil
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block script %}
	<script src="/assets/js/forgot-password.js"></script>
{% endblock %}
