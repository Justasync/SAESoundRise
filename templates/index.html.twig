{% extends 'base_template.html.twig' %}

{% block header %}
	<link rel="stylesheet" href="assets/css/signup-modal.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
{% endblock %}

{% block content %}
	<main>
		<section class="py-5">
			<div class="container">
				<div class="row align-items-center">
					<div class="col-lg-8">
						<h1 class="display-3 fw-bold mb-4">Paaxio</h1>
						<p class="lead mb-4">
							Contrairement aux plateformes de streaming classiques, Paaxio repose sur un mod√®le bas√© sur une mise en avant √©quitable des talents √©mergents, ind√©pendamment de leur notori√©t√© initiale.
						</p>
						<div class="d-flex flex-wrap gap-3">
							<a class="btn btn-lg btn-primary" data-bs-toggle="modal" data-bs-target="#signupModal">S'inscrire</a>
							<a class="btn btn-lg btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#signinModal">Se connecter</a>
						</div>
					</div>

					{# Optional right column for a future illustration/pattern #}
					<div
						class="col-lg-4 d-none d-lg-block">{# <img src="{{ asset('assets/images/hero-pattern.svg') }}" alt="" class="img-fluid"> #}
					</div>
				</div>
			</div>
		</section>

		<div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<div>
							<h1 class="modal-title fs-3 mb-0" id="signupModalLabel">Cr√©er un compte</h1>
							<p class="text-secondary mb-0" data-step-subtitle>Choisissez votre profil pour commencer.</p>
						</div>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<div class="alert alert-danger d-none" role="alert" data-signup-error aria-live="assertive"></div>
						<div class="alert alert-success d-none" role="alert" data-signup-success aria-live="polite"></div>
						<ol class="signup-progress-indicator mb-4">
							<li class="active" data-step-indicator="1">Profil</li>
							<li data-step-indicator="2">Informations</li>
							<li data-step-indicator="3">Confirmation</li>
						</ol>

						<div class="signup-step" data-step="1">
							<h2 class="fs-4 mb-3">Quel type d'utilisateur √™tes-vous ?</h2>
							<div class="row g-3">
								<div class="col-md-4">
									<input type="radio" class="btn-check" name="signupUserType" id="signupTypeArtiste" value="artiste" autocomplete="off">
									<label class="btn btn-outline-primary w-100 h-100 text-start p-3" for="signupTypeArtiste">
										<span class="d-block fw-semibold">üé§ Artiste</span>
										<span class="small">Montrez votre musique au monde entier, connectez-vous avec vos fans et producteurs.</span>

									</label>
								</div>
								<div class="col-md-4">
									<input type="radio" class="btn-check" name="signupUserType" id="signupTypeAuditeur" value="auditeur" autocomplete="off">
									<label class="btn btn-outline-primary w-100 h-100 text-start p-3" for="signupTypeAuditeur">
										<span class="d-block fw-semibold">üéß Auditeur</span>
										<span class="small">D√©couvrez de nouvelles musiques, cr√©ez des playlists et suivez vos nouveaux artistes pr√©f√©r√©s.</span>
									</label>
								</div>
								<div class="col-md-4">
									<input type="radio" class="btn-check" name="signupUserType" id="signupTypeProducteur" value="producteur" autocomplete="off">
									<label class="btn btn-outline-primary w-100 h-100 text-start p-3" for="signupTypeProducteur">
										<span class="d-block fw-semibold">üéöÔ∏è Producteur</span>
										<span class="small">Trouvez des talents, proposez vos services et collaborez √† de nouveaux projets.</span>

									</label>
								</div>
							</div>
							<p class="text-danger small mt-3 d-none" data-step-error>Choisissez un type de profil pour continuer.</p>
						</div>

						<div class="signup-step d-none" data-step="2">
							<form class="signup-form d-none" data-user-type="artiste">
								<h2 class="fs-4 mb-3">Informations artiste</h2>
								<div
									class="row g-3">
									<!-- Nom -->
									<div class="col-md-12">
										<label for="artisteNom" class="form-label">Nom</label>
										<input type="text" class="form-control" id="artisteNom" name="nom" placeholder="Entrez votre nom" required minlength="1" maxlength="255" autocomplete="given-name">
									</div>

									<!-- Pseudonyme d'artiste -->
									<div class="col-md-12">
										<label for="artistePseudonyme" class="form-label">Pseudonyme</label>
										<input type="text" class="form-control" id="artistePseudonyme" name="pseudo" placeholder="Entrez votre pseudonyme" required minlength="3" maxlength="50" autocomplete="nickname">
									</div>

									<!-- Description -->
									<div class="col-md-12">
										<label for="artisteDescription" class="form-label">Description</label>
										<textarea class="form-control" id="artisteDescription" name="description" rows="2" required placeholder="D√©crivez-vous en quelques mots." minlength="10"></textarea>
									</div>

									<!-- Informations suppl√©mentaires -->
									<div class="col-md-12">
										<label class="form-label">Informations suppl√©mentaires</label>
									</div>
									<div class="col-md-12">
										<label for="artisteWebsite" class="form-label">Site web
											<span class="text-secondary">(Facultatif)</span>
										</label>
										<input type="url" class="form-control" id="artisteWebsite" name="website" placeholder="https://votresite.com" autocomplete="url">
									</div>

									<!-- Genres -->
									<div class="col-md-12">
										<label for="artisteGenre" class="form-label">Genre musical</label>
										<select class="form-select" id="artisteGenre" name="genre_id" required>
											<option value="" selected disabled>Choisissez un genre</option>
											{% for genre in genres %}
												<option value="{{ genre.idGenre }}">{{ genre.nomGenre }}</option>
											{% endfor %}
										</select>
									</div>

									<!-- Courrier √©lectronique -->
									<div class="col-md-6">
										<label for="artisteEmail" class="form-label">Courrier √©lectronique</label>
										<input type="email" class="form-control" id="artisteEmail" name="email" required autocomplete="email">
									</div>

									<!-- Date de naissance -->
									<div class="col-md-6">
										<label class="form-label">Date de naissance</label>
										<input type="date" class="form-control" id="artisteBirthDay" name="birthdate" required autocomplete="bday">
									</div>

									<!-- Mot de passe -->
									<div class="col-md-6">
										<label for="artistePassword" class="form-label">Mot de passe</label>
										<input type="password" class="form-control" id="artistePassword" name="password" required minlength="8" autocomplete="new-password">
										<div class="form-text">8 caract√®res minimum.</div>
									</div>

									<!-- R√©ins√©rez votre mot de passe -->
									<div class="col-md-6">
										<label for="artistePasswordRepeat" class="form-label">R√©ins√©rez votre mot de passe</label>
										<input type="password" class="form-control" id="artistePasswordRepeat" name="password_repeat" required minlength="8" autocomplete="new-password">
									</div>
								</div>
							</form>

							<form class="signup-form d-none" data-user-type="auditeur">
								<h2 class="fs-4 mb-3">Informations auditeur</h2>
								<div
									class="row g-3">
									<!-- Nom -->
									<div class="col-md-12">
										<label for="auditeurNom" class="form-label">Nom</label>
										<input type="text" class="form-control" id="auditeurNom" name="nom" placeholder="Entrez votre nom" required minlength="1" maxlength="255" autocomplete="given-name">
									</div>

									<div class="col-md-12">
										<label for="auditeurPseudonyme" class="form-label">Pseudonyme</label>
										<input type="text" class="form-control" id="auditeurPseudonyme" name="pseudo" placeholder="Entrez votre pseudonyme" required minlength="3" maxlength="50" autocomplete="nickname">
									</div>

									<!-- Description -->
									<div class="col-md-12">
										<label for="auditeurDescription" class="form-label">Description</label>
										<textarea class="form-control" id="auditeurDescription" name="description" rows="2" required placeholder="D√©crivez-vous en quelques mots." minlength="10"></textarea>
									</div>

									<!-- Informations suppl√©mentaires -->
									<div class="col-md-12">
										<label class="form-label">Informations suppl√©mentaires</label>
									</div>
									<div class="col-md-12">
										<label for="auditeurWebsite" class="form-label">Site web
											<span class="text-secondary">(Facultatif)</span>
										</label>
										<input type="url" class="form-control" id="auditeurWebsite" name="website" placeholder="https://votresite.com" autocomplete="url">
									</div>

									<!-- Courrier √©lectronique -->
									<div class="col-md-6">
										<label for="auditeurEmail" class="form-label">Courrier √©lectronique</label>
										<input type="email" class="form-control" id="auditeurEmail" name="email" required autocomplete="email">
									</div>

									<!-- Date de naissance -->
									<div class="col-md-6">
										<label class="form-label">Date de naissance</label>
										<input type="date" class="form-control" id="auditeurBirthDay" name="birthdate" required autocomplete="bday">
									</div>

									<!-- Mot de passe -->
									<div class="col-md-6">
										<label for="auditeurPassword" class="form-label">Mot de passe</label>
										<input type="password" class="form-control" id="auditeurPassword" name="password" required minlength="8" autocomplete="new-password">
										<div class="form-text">8 caract√®res minimum.</div>
									</div>

									<!-- R√©ins√©rez votre mot de passe -->
									<div class="col-md-6">
										<label for="auditeurPasswordRepeat" class="form-label">R√©ins√©rez votre mot de passe</label>
										<input type="password" class="form-control" id="auditeurPasswordRepeat" name="password_repeat" required minlength="8" autocomplete="new-password">
									</div>
								</div>
							</form>

							<form class="signup-form d-none" data-user-type="producteur">
								<h2 class="fs-4 mb-3">Informations producteur</h2>
								<div
									class="row g-3">
									<!-- Nom -->
									<div class="col-md-12">
										<label for="producteurNom" class="form-label">Nom</label>
										<input type="text" class="form-control" id="producteurNom" name="nom" placeholder="Entrez votre nom" required minlength="1" maxlength="255" autocomplete="given-name">
									</div>


									<!-- Pseudonyme -->
									<div class="col-md-6">
										<label for="producteurPseudonyme" class="form-label">Pseudonyme</label>
										<input type="text" class="form-control" id="producteurPseudonyme" name="pseudo" placeholder="Entrez votre pseudonyme" required minlength="3" maxlength="50" autocomplete="nickname">
									</div>

									<!-- Description -->
									<div class="col-md-12">
										<label for="producteurDescription" class="form-label">Description</label>
										<textarea class="form-control" id="producteurDescription" name="description" rows="2" required placeholder="D√©crivez-vous en quelques mots." minlength="10"></textarea>
									</div>

									<!-- Informations suppl√©mentaires -->
									<div class="col-md-12">
										<label class="form-label">Informations suppl√©mentaires</label>
									</div>
									<div class="col-md-12">
										<label for="producteurWebsite" class="form-label">Site web
											<span class="text-secondary">(Facultatif)</span>
										</label>
										<input type="url" class="form-control" id="producteurWebsite" name="website" placeholder="https://votresite.com" autocomplete="url">
									</div>

									<!-- Genres -->
									<div class="col-md-12">
										<label for="producteurGenre" class="form-label">Genre musical</label>
										<select class="form-select" id="producteurGenre" name="genre_id" required>
											<option value="" selected disabled>Choisissez un genre</option>
											{% for genre in genres %}
												<option value="{{ genre.idGenre }}">{{ genre.nomGenre }}</option>
											{% endfor %}
										</select>
									</div>

									<!-- Courrier √©lectronique -->
									<div class="col-md-6">
										<label for="producteurEmail" class="form-label">Courrier √©lectronique</label>
										<input type="email" class="form-control" id="producteurEmail" name="email" required autocomplete="email">
									</div>

									<!-- Date de naissance -->
									<div class="col-md-6">
										<label class="form-label">Date de naissance</label>
										<input type="date" class="form-control" id="producteurBirthDay" name="birthdate" required autocomplete="bday">
									</div>

									<!-- Mot de passe -->
									<div class="col-md-6">
										<label for="producteurPassword" class="form-label">Mot de passe</label>
										<input type="password" class="form-control" id="producteurPassword" name="password" required minlength="8" autocomplete="new-password">
										<div class="form-text">8 caract√®res minimum.</div>
									</div>

									<!-- R√©ins√©rez votre mot de passe -->
									<div class="col-md-6">
										<label for="producteurPasswordRepeat" class="form-label">R√©ins√©rez votre mot de passe</label>
										<input type="password" class="form-control" id="producteurPasswordRepeat" name="password_repeat" required minlength="8" autocomplete="new-password">
									</div>
								</div>
							</form>
						</div>

						<div class="signup-step d-none text-center py-5" data-step="3">
							<div class="mb-4">
								<span class="signup-success-icon rounded-circle d-inline-flex justify-content-center align-items-center mb-3">
									<i class="bi bi-check-lg"></i>
								</span>
								<h2 class="fs-4">Votre inscription est presque termin√©e!</h2>
							</div>
							<p class="mb-1">Nous venons d'envoyer un email de confirmation √†
								<span class="fw-semibold" data-confirmation-email>votre adresse.</span>
							</p>
							<p class="text-secondary mb-0">Suivez le lien qui s'y trouve pour activer votre compte.</p>
						</div>
					</div>
					<div class="modal-footer justify-content-between">
						<button type="button" class="btn btn-outline-secondary" data-action="back">Retour</button>
						<div class="d-flex gap-2">
							<button type="button" class="btn btn-outline-secondary d-none" data-action="secondary"></button>
							<button type="button" class="btn btn-primary" data-action="next">Continuer</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Sign-in Modal -->
		<div class="modal fade" id="signinModal" tabindex="-1" aria-labelledby="signinModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<div>
							<h1 class="modal-title fs-3 mb-0" id="signinModalLabel">Se connecter</h1>
							<p class="text-secondary mb-0">Connectez-vous √† votre compte Paaxio</p>
						</div>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<div class="alert alert-danger d-none" role="alert" data-signin-error></div>
						<div class="alert alert-success d-none" role="alert" data-signin-success></div>
						<form id="signinForm">
							<div class="mb-3">
								<label for="signinEmail" class="form-label">Adresse e-mail</label>
								<input type="email" class="form-control" id="signinEmail" name="email" placeholder="votre@email.com" required autocomplete="email">
							</div>
							<div class="mb-3">
								<label for="signinPassword" class="form-label">Mot de passe</label>
								<input type="password" class="form-control" id="signinPassword" name="password" placeholder="Entrez votre mot de passe" required autocomplete="current-password">
							</div>
							<div class="mb-3 d-flex justify-content-end">
								<button type="button" class="btn btn-link p-0" id="forgotPasswordBtn">Mot de passe oubli√© ?</button>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Annuler</button>
						<button type="submit" form="signinForm" class="btn btn-primary">Se connecter</button>
					</div>
				</div>
			</div>
		</div>
	</main>
{% endblock %}

{% block script %}
	{% if show == 'login' %}
		<script>
			document.addEventListener('DOMContentLoaded', function () {
var signinModal = new bootstrap.Modal(document.getElementById('signinModal'));
signinModal.show();
});
		</script>
	{% elseif show == 'signup' %}
		<script>
			document.addEventListener('DOMContentLoaded', function () {
var signupModal = new bootstrap.Modal(document.getElementById('signupModal'));
signupModal.show();
});
		</script>
	{% endif %}
	<script src="assets/js/signup-modal.js"></script>
	<script src="assets/js/signin-modal.js"></script>
{% endblock %}
